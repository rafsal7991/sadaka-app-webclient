import{a6 as f,a7 as s,ai as x,r as S,a9 as k,Z as E,a as q,j as e,I as i,aj as v,aa as I,ab as P,ac as c}from"./index.ef1be1b9.js";import{I as l}from"./InputGroup.49993b9a.js";import{u as R}from"./authApiSlice.54fce4ae.js";const j=f({name:s().required("Name is Required"),email:s().email("Invalid email").required("Email is Required"),password:s().min(6,"Password must be at least 8 characters").max(20,"Password shouldn't be more than 20 characters").required("Please enter password"),confirmpassword:s().oneOf([x("password"),null],"Passwords must match")}).required(),B=()=>{const[u,{isLoading:a,isError:C,error:N,isSuccess:A}]=R(),[m,h]=S.exports.useState(!1),{register:o,formState:{errors:t},handleSubmit:g,reset:w}=k({resolver:P(j),mode:"all"}),b=E();return q("form",{onSubmit:g(async y=>{var d,p;try{const r=await u(y);if(r.error)throw new Error(r.error.message);w(),b("/"),c.success("Add Successfully")}catch(r){console.log(r.response);const n=((p=(d=r.response)==null?void 0:d.data)==null?void 0:p.message)||"An error occurred. Please try again later.";n==="Email is already registered"?c.error(n):c.warning(n)}}),className:"space-y-3 ",children:[e(l,{name:"name",type:"text",prepend:e(i,{icon:"ph:lock-simple"}),placeholder:" Enter your name",register:o,error:t.name,disabled:a,merged:!0}),e(l,{name:"email",type:"email",prepend:e(i,{icon:"ph:lock-simple"}),placeholder:" Enter your email",register:o,error:t.email,disabled:a,merged:!0}),e(l,{name:"password",type:"password",prepend:e(i,{icon:"ph:lock-simple"}),placeholder:" Enter your password",register:o,error:t.password,merged:!0,disabled:a}),e(v,{label:"I agree with privacy policy",value:m,onChange:()=>h(!m)}),e(I,{type:"submit",text:"Create an account",className:"btn btn-primary block w-full text-center ",isLoading:a})]})};export{B as R};
